<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>To Do</title>
<script src="js/jquery-2.1.3.min.js"></script>
<link rel="stylesheet" href="css/sample.css">
</head>
<body>
<header>
<h1>To Do</h1>
</header>
<main>


    <main>
        <input required type="text" id="deadline" placeholder="締切を入力してください">
        <textarea required id="task" placeholder="未完了または完了済のタスクを入力してください"></textarea>
        <div id="button1">
        <button id="save">新規追加</button>
        <button id="clear">完了</button>
        </div>
    </main>


</main>
<table id="list">
    <tr>
    <th>締切</th>
    <th>To Do</th>
    <th></th>
    </tr>
</table>




<script>

//1.Save クリックイベント




$("#clear").on("click",function(){
    const key = $("#task").val();
    localStorage.removeItem(key);
    location.reload();});











$("#save").on("click",function(){
    
    const key = $("#task").val();
    const value = $("#deadline").val();
    localStorage.setItem(key,value);
    location.reload();
});




    
   


//3.ページ読み込み：保存データ取得表示

for(let i=0; i<localStorage.length; i++){
    const key   = localStorage.key(i);
    const value = localStorage.getItem(key);
    const html = '<tr><th>'+value+'</th><th>'+key+'</th><th><button id="' +key+ '">完了</button></th></tr>';
    $("#list").append(html);}


</script>

</body>
</html>